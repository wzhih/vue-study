# Vuex 知识回顾

## vuex是什么

当一个单页应用很简单的时候，组件之间交互共享数据的复杂度很低，直接通过组件传值就可以了。
但是随着应用功能的增加，应用规模的加大，要维护的应用级别的共享数据就很困难了，复杂度高。

如果我们通过`sessionStorage`、`localStorage`、`cookie`等浏览器存储这些全局共享数据呢？
可以，但是不方便，也没有`vue`的数据绑定，某处修改了数据之后，还要主动去修改使用这个数据的其他地方

如果我们通过维护一个全局的变量呢？
可以，`vuex`的本质就是这样子的，但是多出了一些东西(响应式、模块化)

**综上所述：**`vuex`是一个全局对象变量，比普通全局变量多出了一些响应式的属性、方法、模块化、规范，帮助开发者更好的开发调试大型应用

> Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。


## 核心概念

### State

`Vuex`使用单一状态树(设计模式:单例模式)。

这个`state`在`vuex`的`store`实例中，就如同`vue`实例里面的`data`、对象的属性

`vuex`通过`vue`的插件扩展机制和注入`store`实例属性，到根组件`Vue`中，所以所有子组件都可以使用`this.$store`访问`store`


### Getter

`getter`就是个对象里面获取属性的`getter`方法(可传值)，也类似于计算属性

### Mutation

`mutation`是对象方法，专门用来修改`state`的

### Action

`mutation`是对象方法，专门用来做异步操作的，然后在通过调用`mutation`修改`state`

#### Module

`module`将上面这四个属性方法进行模块化，加上命名空间隔离

## 使用

使用的一些约定：

* 应用级与`module`级的`state`应该分开
* `module`应该使用`namespace`命名空间，区分应用级`state`与`module`级`state`
* 组件中使用`state`时，如果需要做前置处理格式化操作，最好使用计算属性；
  多次使用的话，可以将其提取到`vuex`的`getter`
* 只在`action`中运行异步操作
* 只在`mutation`中运行修改`state`

关于辅助函数`mapState`、`mapGetters`、`mapMutations`、`mapActions`，其实感觉不太好，写出的代码可读性不高，也就在减少代码量有优点

